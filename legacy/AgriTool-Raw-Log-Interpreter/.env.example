# =============================================================================
# AgriTool Raw Log Interpreter Agent Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values

# Required API Keys
SUPABASE_URL=your_supabase_project_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
SCRAPER_RAW_GPT_API=your_openai_api_key

# OpenAI Configuration
OPENAI_MODEL=gpt-4o-mini
ASSISTANT_ID=SCRAPER_RAW_LOGS_INTERPRETER

# Processing Configuration (Performance Tuning)
BATCH_SIZE=50                      # Number of logs to process per batch (max 100 recommended)
MAX_CONCURRENT_EXTRACTIONS=5      # Max concurrent OpenAI API calls (3-10 based on rate limits)
POLL_INTERVAL=300                  # Seconds between polling cycles in continuous mode

# Logging and Alerting
LOG_LEVEL=INFO
SLACK_WEBHOOK_URL=                 # Optional: Slack webhook for alerts
SLACK_ALERT_THRESHOLD=0.25         # Alert when failure rate exceeds this threshold

# =============================================================================
# Performance Tuning Guidelines:
# 
# BATCH_SIZE:
#   - Small (10-25): More frequent processing, lower memory usage
#   - Medium (50-75): Balanced performance and resource usage
#   - Large (75-100): Maximum throughput, higher memory usage
#
# MAX_CONCURRENT_EXTRACTIONS:
#   - Conservative (3-5): Safe for most OpenAI rate limits
#   - Aggressive (8-10): Higher throughput, monitor for rate limit errors
#   - Note: OpenAI rate limits vary by tier and model
#
# RECOMMENDED SETTINGS:
#   - Production: BATCH_SIZE=75, MAX_CONCURRENT_EXTRACTIONS=8
#   - Development: BATCH_SIZE=25, MAX_CONCURRENT_EXTRACTIONS=3
#   - CI/CD: Use --batch-size and --max-concurrent CLI args
# =============================================================================